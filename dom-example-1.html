<!DOCTYPE html>
<html>
<head>    
    <title>Dom Example 1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">    
</head>
<body>

    <div class="container">
        <h1>DOM Example</h1>
        <div class="col-md-4">
            <form onsubmit="save(event)">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input 
                        type="text"
                        id="name" 
                        class="form-control"
                        required
                        minlength="10"
                        onkeyup="checkInputValidation(event)">
                    <div class="invalid-feedback">
                        İsim kısmı en az 10 karakter olmalıdır!
                    </div>
                </div>
                <div class="form-group">
                    <label for="lastName">LastName</label>
                    <input 
                        type="text"
                        id="lastName" 
                        class="form-control"required
                        minlength="10"
                        onkeyup="checkInputValidation(event)">
                    <div class="invalid-feedback">
                        Soy isim kısmı en az 10 karakter olmalıdır!
                    </div>
                </div>
                <div class="form-group">
                    <label for="phoneNumber">Phone Number</label>
                    <input 
                        type="text"
                        id="phoneNumber" 
                        class="form-control"required
                        minlength="10"
                        onkeyup="checkInputValidation(event)">
                    <div class="invalid-feedback">
                        Telefon numarası en az 10 karakter olmalıdır!
                    </div>
                </div>
                <button id="saveBtn" type="submit" class="btn btn-primary w-100 mt-1">Kaydet</button>
            </form>
            
            <!-- <button id="saveBtn" class="btn btn-outline-primary w-100 mt-1">Kaydet</button>             -->

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>    

    <script>
        let inputElement = document.getElementById("name");
        let btnElement = document.getElementById("saveBtn");

        function save(event){
            event.preventDefault();
            console.log(inputElement.value.length);
            if(inputElement.value.length < 10){
                inputElement.className = "form-control is-invalid"
            }else{
                inputElement.className = "form-control is-valid"
            }
            //console.log(event.target.validty.valid);
        }


        function checkInputValidation(event){
            console.log(event);
            let isInputValid = event.target.validity.valid;
            if(!isInputValid){
                // event.target.classList.toggle("is-invalid");
                event.target.classList.add("is-invalid");
                event.target.classList.removebtnElement.disabled = true;
            }else{
                // event.target.classList.toggle("is-invalid");
                event.target.classList.remove("is-invalid");
                event.target.classList.add("is-valid");
                btnElement.removeAttribute("disabled");
            }
            console.log(isInputValid);
        }
    </script>
</body>
</html>